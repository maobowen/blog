<!DOCTYPE html>
<html lang="en,default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css">
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"bmao.tech","root":"/blog/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Follow this tutorial to start setting up a ShadowsocksR proxy server and enjoying freedom outside the wall!">
<meta property="og:type" content="article">
<meta property="og:title" content="Setting Up a ShadowsocksR Proxy Server">
<meta property="og:url" content="http://bmao.tech/blog/shadowsocksr/">
<meta property="og:site_name" content="101对双生儿&#39;s Blog">
<meta property="og:description" content="Follow this tutorial to start setting up a ShadowsocksR proxy server and enjoying freedom outside the wall!">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://bmao.tech/blog/shadowsocksr/shadowsocksr_01.png">
<meta property="og:image" content="http://bmao.tech/blog/shadowsocksr/shadowsocksr_02.png">
<meta property="og:image" content="http://bmao.tech/blog/shadowsocksr/shadowsocksr_03.png">
<meta property="og:image" content="http://bmao.tech/blog/shadowsocksr/shadowsocksr_04.png">
<meta property="og:image" content="http://bmao.tech/blog/shadowsocksr/shadowsocksr_05.png">
<meta property="og:image" content="http://bmao.tech/blog/shadowsocksr/shadowsocksr_06.png">
<meta property="og:image" content="http://bmao.tech/blog/shadowsocksr/shadowsocksr_07.png">
<meta property="og:image" content="http://bmao.tech/blog/shadowsocksr/shadowsocksr_08.png">
<meta property="og:image" content="http://bmao.tech/blog/shadowsocksr/shadowsocksr_09.png">
<meta property="article:published_time" content="2018-06-04T22:00:00.000Z">
<meta property="article:modified_time" content="2020-07-21T07:16:48.864Z">
<meta property="article:author" content="101对双生儿">
<meta property="article:tag" content="GFW">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://bmao.tech/blog/shadowsocksr/shadowsocksr_01.png">

<link rel="canonical" href="http://bmao.tech/blog/shadowsocksr/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Setting Up a ShadowsocksR Proxy Server | 101对双生儿's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">101对双生儿's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Not pleased by external gains. Not saddened by personal losses.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">14</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">4</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">12</span></a>

  </li>
        <li class="menu-item menu-item-resume">

    <a href="/blog/resume/" rel="section"><i class="fa fa-file-alt fa-fw"></i>Résumé</a>

  </li>
        <li class="menu-item menu-item-referrals">

    <a href="/blog/referrals/" rel="section"><i class="fa fa-share fa-fw"></i>Referrals</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>
<!-- Global APlayer -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script>
<meting-js
  auto="https://music.163.com/#/playlist?id=648989969"
  list-folded="true"
  fixed="true"
  lrc-type="0">
</meting-js>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://bmao.tech/blog/shadowsocksr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://tvax4.sinaimg.cn/crop.0.0.568.568.180/6e363801ly8fgtxq4arklj20fs0fsdh8.jpg">
      <meta itemprop="name" content="101对双生儿">
      <meta itemprop="description" content="A blog of a software engineer.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="101对双生儿's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Setting Up a ShadowsocksR Proxy Server
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-06-04 15:00:00" itemprop="dateCreated datePublished" datetime="2018-06-04T15:00:00-07:00">2018-06-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-21 00:16:48" itemprop="dateModified" datetime="2020-07-21T00:16:48-07:00">2020-07-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/Across-the-Great-Wall/" itemprop="url" rel="index"><span itemprop="name">Across the Great Wall...</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/blog/shadowsocksr/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="shadowsocksr/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>3.9k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>4 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Follow this tutorial to start setting up a ShadowsocksR proxy server and enjoying freedom outside the wall!</p>
<a id="more"></a>
<h2 id="server-side-setup">Server-side Setup</h2>
<h3 id="prepare-a-server">Prepare a server</h3>
<p>I would recommend <a target="_blank" rel="noopener" href="https://m.do.co/c/881f697ed35a">DigitalOcean</a> and <a target="_blank" rel="noopener" href="https://www.vultr.com/?ref=7436070">Vultr</a>, both of which offer various plans for <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Virtual_private_server">virtual private servers (VPS)</a>. DigitalOcean provides <a target="_blank" rel="noopener" href="https://try.digitalocean.com/performance/?refcode=881f697ed35a&amp;utm_campaign=Referral_Invite&amp;utm_medium=Referral_Program&amp;utm_source=CopyPaste">$100 credits</a> for new users, while Vultr provides <a target="_blank" rel="noopener" href="https://www.vultr.com/promo25b?ref=7436070">$25 credits</a> for new users. Students with a valid .edu email address can sign up for <a target="_blank" rel="noopener" href="https://education.github.com/pack">GitHub Student Developer Pack</a> and get an extra $50 credits on DigitalOcean. <a target="_blank" rel="noopener" href="https://cloud.google.com/free/">Google Cloud</a> and <a target="_blank" rel="noopener" href="https://azure.microsoft.com/en-us/free/">Microsoft Azure</a>, at the same time, also provide free credits for trial, but they can exhaust faster. These free credits usually last for only one year, so you should take full advantage of them before they expire. If you have access to a dedicated server, keep in mind that you should have full access to it.</p>
<p>I will deploy a Vultr Cloud Compute (VC2) server with Ubuntu 18.04 in this tutorial.</p>
<img data-src="/blog/shadowsocksr/shadowsocksr_01.png" class="" width="500" title="Log into the server">
<h3 id="install-shadowsocksr-proxy-server">Install ShadowsocksR Proxy Server</h3>
<p>In this tutorial, we will use <a target="_blank" rel="noopener" href="https://github.com/ToyoDAdoubi/doubi/blob/master/ssrmu.sh">a script</a> developed by <a target="_blank" rel="noopener" href="https://github.com/ToyoDAdoubi">Toyo</a> to help us install the proxy server. This script installs and runs the proxy server in the MudbJSON mode so that the we can manage each user of the proxy server separately. For those who are interested in the technical details of this script, please refer to <a target="_blank" rel="noopener" href="https://toyodadoubi.github.io/z2a4lk3l-2.html#脚本版本">『原创』ShadowsocksR MudbJSON模式多用户一键脚本 支持流量限制等</a> (Chinese).</p>
<p>Thanks to the script, the installation can be extremely easy. First, download and run the script.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssrmu.sh &amp;&amp; chmod +x ssrmu.sh &amp;&amp; ./ssrmu.sh</span><br></pre></td></tr></table></figure>
<img data-src="/blog/shadowsocksr/shadowsocksr_02.png" class="" width="500" title="Download and run the script">
<p>Enter <kbd>1</kbd> to start the installation of ShadowsocksR proxy server.</p>
<img data-src="/blog/shadowsocksr/shadowsocksr_03.png" class="" width="500" title="Start installation">
<p>First, hit <kbd>Enter</kbd> to let the script automatically detect the IP address of the server. Then enter <strong>user name</strong>, <strong>port number</strong> and <strong>password</strong> for the first user.</p>
<blockquote>
<p>The username and password should only contain ASCII characters. The port entered here should not have conflict with the ports which the server is using or the server system reserves.</p>
</blockquote>
<img data-src="/blog/shadowsocksr/shadowsocksr_04.png" class="" width="500" title="Configure the first user">
<p>For the encryption method, select <strong>&quot;none&quot;</strong> (i.e. enter <kbd>1</kbd>) since I will use &quot;auth_chain_a&quot; protocol later.</p>
<img data-src="/blog/shadowsocksr/shadowsocksr_05.png" class="" width="500" title="Select the encryption method">
<p>Now select <strong>&quot;auth_chain_a&quot;</strong> protocol (i.e. enter <kbd>5</kbd>) because it is safer.</p>
<blockquote>
<p>For more information about &quot;auth_chain_a&quot; protocol, please refer to <a target="_blank" rel="noopener" href="https://breakwa11.blogspot.com/2017/05/auth-chain-a.html">协议auth_chain_a是啥</a> (Chinese) or <a target="_blank" rel="noopener" href="https://github.com/shadowsocksr-backup/shadowsocks-rss/blob/master/doc/auth_chain_a.md" class="uri">https://github.com/shadowsocksr-backup/shadowsocks-rss/blob/master/doc/auth_chain_a.md</a> (English). You might also use &quot;auth_chain_b&quot; protocol, but it has not been widely supported on the iOS devices yet.</p>
</blockquote>
<img data-src="/blog/shadowsocksr/shadowsocksr_06.png" class="" width="500" title="Select the protocol">
<p>Use the <strong>default setting</strong> for obfuscation (i.e. enter <kbd>5</kbd>) with no compatibility with Shadowsocks (i.e. enter <kbd>n</kbd>). Original Shadowsocks proxy is no longer safe, so it is not necessary to make the server compatible with Shadowsocks.</p>
<blockquote>
<p>For more technical information about encryption method, protocol and obfuscation in ShadowsocksR, please refer to <a target="_blank" rel="noopener" href="https://github.com/iMeiji/shadowsocks_install/wiki/ShadowsocksR-协议插件文档">ShadowsocksR 协议插件文档</a> (Chinese).</p>
</blockquote>
<img data-src="/blog/shadowsocksr/shadowsocksr_07.png" class="" width="500" title="Select the obfuscation">
<p>Use the <strong>default settings</strong> for all remaining parameters unless you want to limit the device number, the network speed, the traffic and/or the ports of the current user.</p>
<img data-src="/blog/shadowsocksr/shadowsocksr_08.png" class="" width="500" title="Configure the first user">
<p>Finally, the script shows that the proxy server is installed successfully, and the first user is configured. Write down the ShadowsocksR URL starting with <code>ssr://</code> or the QR code URL so that we can add this configuration to the clients later.</p>
<img data-src="/blog/shadowsocksr/shadowsocksr_09.png" class="" width="500" title="Installation finished">
<p>If you want to add another user, just run the script again by <code>./ssrmu.sh</code>, choose <kbd>7</kbd> and follow the exact same instruction.</p>
<p>In theory, we should boost our proxy server's TCP connection. The good news is that Ubuntu 18.04 enables <a target="_blank" rel="noopener" href="https://ai.google/research/pubs/pub45646">Google BBR</a> by default, so we do not need to take any further action. If you use other versions or systems and need to enable it manually, please follow this tutorial: <a target="_blank" rel="noopener" href="https://www.91yun.co/archives/5174">Centos/Ubuntu/Debian BBR加速一键安装包</a> (Chinese).</p>
<blockquote>
<p>Debian 9 users can use the following commands to enable Google BBR: <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.core.default_qdisc=fq&quot;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.ipv4.tcp_congestion_control=bbr&quot;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure> For more information, please check out this post: <a target="_blank" rel="noopener" href="https://www.moerats.com/archives/297/">Debian 9快速开启Google BBR的方法，实现高效单边加速</a>.</p>
</blockquote>
<p>And don't forget to set firewall rules for the server! <a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/an-introduction-to-digitalocean-cloud-firewalls?refcode=881f697ed35a&amp;utm_campaign=Referral_Invite&amp;utm_medium=Referral_Program&amp;utm_source=CopyPaste">DigitalOcean</a> and <a target="_blank" rel="noopener" href="https://www.vultr.com/docs/vultr-firewall?ref=7436070">Vultr</a> provide graphical interface inside their consoles so that users can set up firewalls in clicks.</p>
<h2 id="client-side-setup">Client-side Setup</h2>
<p>I would recommend the following client-side applications:</p>
<ul>
<li>macOS: <a target="_blank" rel="noopener" href="https://github.com/qinyuhang/ShadowsocksX-NG-R/releases">ShadowsocksX-NG</a></li>
<li>Linux: <a target="_blank" rel="noopener" href="https://github.com/erguotou520/electron-ssr/releases">electron-ssr</a></li>
<li>Windows: <a target="_blank" rel="noopener" href="https://github.com/shadowsocksrr/shadowsocksr-csharp/releases">ShadowsocksR C#</a></li>
<li>iOS: <a target="_blank" rel="noopener" href="https://apps.apple.com/app/id1239860606">Potatso Lite</a></li>
<li>Android: <a target="_blank" rel="noopener" href="https://github.com/shadowsocksrr/shadowsocksr-android/releases">ShadowsocksR for Android</a></li>
</ul>
<h2 id="reference">Reference</h2>
<ol type="1">
<li>Toyo, &quot;『原创』ShadowsocksR MudbJSON模式多用户一键脚本 支持流量限制等,&quot; <em>逗比根据地</em>. [Online]. Available: <a target="_blank" rel="noopener" href="https://toyodadoubi.github.io/z2a4lk3l-2.html" class="uri">https://toyodadoubi.github.io/z2a4lk3l-2.html</a>.</li>
</ol>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/blog/images/rewards_wechatpay.png" alt="101对双生儿 WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/blog/images/rewards_alipay.png" alt="101对双生儿 Alipay">
        <p>Alipay</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/blog/images/rewards_venmo.png" alt="101对双生儿 Venmo">
        <p>Venmo</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>101对双生儿
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="http://bmao.tech/blog/shadowsocksr/" title="Setting Up a ShadowsocksR Proxy Server">http://bmao.tech/blog/shadowsocksr/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/blog/tags/GFW/" rel="tag"><i class="fa fa-tag"></i> GFW</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/apply-ca-visa-in-nyc/" rel="prev" title="持美国 F-1 签证在纽约市面签加拿大临时居民访问签证">
      <i class="fa fa-chevron-left"></i> 持美国 F-1 签证在纽约市面签加拿大临时居民访问签证
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/oneindex-on-heroku/" rel="next" title="Deploying OneIndex on Heroku">
      Deploying OneIndex on Heroku <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#server-side-setup"><span class="nav-number">1.</span> <span class="nav-text">Server-side Setup</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#prepare-a-server"><span class="nav-number">1.1.</span> <span class="nav-text">Prepare a server</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#install-shadowsocksr-proxy-server"><span class="nav-number">1.2.</span> <span class="nav-text">Install ShadowsocksR Proxy Server</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#client-side-setup"><span class="nav-number">2.</span> <span class="nav-text">Client-side Setup</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reference"><span class="nav-number">3.</span> <span class="nav-text">Reference</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="101对双生儿"
      src="https://tvax4.sinaimg.cn/crop.0.0.568.568.180/6e363801ly8fgtxq4arklj20fs0fsdh8.jpg">
  <p class="site-author-name" itemprop="name">101对双生儿</p>
  <div class="site-description" itemprop="description">A blog of a software engineer.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:&#109;&#97;&#111;&#98;&#111;&#119;&#101;&#110;&#51;&#64;&#104;&#111;&#116;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;" title="Email → mailto:&amp;#109;&amp;#97;&amp;#111;&amp;#98;&amp;#111;&amp;#119;&amp;#101;&amp;#110;&amp;#51;&amp;#64;&amp;#104;&amp;#111;&amp;#116;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#46;&amp;#99;&amp;#111;&amp;#109;" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>Email</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/maobowen" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;maobowen" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fb.me/maobowen" title="Facebook → https:&#x2F;&#x2F;fb.me&#x2F;maobowen" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i>Facebook</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/maobowen3" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;maobowen3" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/bowen-mao" title="LinkedIn → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;bowen-mao" rel="noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i>LinkedIn</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://m.weibo.cn/u/1849047041" title="Weibo → https:&#x2F;&#x2F;m.weibo.cn&#x2F;u&#x2F;1849047041" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/maobowen3" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;maobowen3" rel="noopener" target="_blank"><i class="fa-custom zhihu fa-fw"></i>Zhihu</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://music.163.com/#/user/home?id=449309413" title="NetEase → https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;449309413" rel="noopener" target="_blank"><i class="fa-custom netease fa-fw"></i>NetEase</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/49932516" title="Bilibili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;49932516" rel="noopener" target="_blank"><i class="fa-custom bilibili fa-fw"></i>Bilibili</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://bangumi.tv/user/451556" title="Bangumi → https:&#x2F;&#x2F;bangumi.tv&#x2F;user&#x2F;451556" rel="noopener" target="_blank"><i class="fa-custom bangumi fa-fw"></i>Bangumi</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.v2ex.com/member/maobowen3" title="V2EX → https:&#x2F;&#x2F;www.v2ex.com&#x2F;member&#x2F;maobowen3" rel="noopener" target="_blank"><i class="fa-custom v2ex fa-fw"></i>V2EX</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://my.csdn.net/maobowen3" title="CSDN → http:&#x2F;&#x2F;my.csdn.net&#x2F;maobowen3" rel="noopener" target="_blank"><i class="fa-custom csdn fa-fw"></i>CSDN</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UCYc-n4b88MuC-nqrHeSj40g" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCYc-n4b88MuC-nqrHeSj40g" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">101对双生儿</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">54k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">49 mins.</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/pisces.js"></script>


<script src="/blog/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/blog/js/local-search.js"></script>













    <div id="pjax">
  

  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://blog-maobowen.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "http://bmao.tech/blog/shadowsocksr/";
    this.page.identifier = "shadowsocksr/";
    this.page.title = "Setting Up a ShadowsocksR Proxy Server";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://blog-maobowen.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

    </div>
</body>
</html>
